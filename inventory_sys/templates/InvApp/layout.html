{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %} Dashboard | Inventory System - Admin & Dashboard {% endblock %}</title>

  <link rel="stylesheet" type="text/css" href="{% static 'style/style.css' %}">

</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
  <div class="container-fluid">
    <!-- Brand -->
    <a class="navbar-brand fs-2 me-auto" href="{% url 'home' %}">
      <i class="material-icons">All STocK</i>
    </a>
    <div class="flex-grow-1"></div>

    <!-- Centered Sidebar Toggle Button -->
    <div class="d-flex justify-content-center w-100">
        <button class="toggle-btn" id="toggleSidebar"><i class="fas fa-bars"></i></button>
    </div>

    <!-- Navbar Toggler (for collapsing menu) -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar Links -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto align-items-center">
        <!-- Notifications -->
        <li class="nav-item">
          <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#notificationModal">
            <i class="fas fa-bell"></i>
            <strong class="text-white">Notifications</strong> 
            <span class="badge bg-danger" id="notificationCount">{{ orders.count }}</span>
          </a>
        </li>

        <!-- Profile -->
        <li class="nav-item">
          <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#profileModal">
            <img src="{% static 'images/hiladah.png' %}" alt="Profile" class="rounded-circle me-1" style="width: 40px; height: 40px;">
          </a>
        </li>

        <!-- Fullscreen Toggle -->
        <li class="nav-item">
          <button class="btn btn-primary" id="fullscreen-toggle">
            <i class="fas fa-expand"></i>
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="sidebar d-flex flex-column fw-bold fs-5">
  <ul class="nav flex-column">
      <li class="nav-item">
          <a class="nav-link {% if request.path == '/' %}active{% endif %}" href="{% url 'home' %}">
              <i class="fas fa-tachometer-alt"></i> <span>Dashboard</span>
          </a>
      </li>

      <li class="nav-item">
          <a class="nav-link" data-bs-toggle="collapse" href="#products-menu">
              <i class="fas fa-box-open"></i> <span>Products</span> <i class="fas fa-chevron-down ms-auto"></i>
          </a>
          <div id="products-menu" class="collapse">
              <a class="nav-link" href="{% url 'product_list' %}">
                  <i class="fas fa-plus-circle"></i> <span>Add Product</span>
              </a>
              <a class="nav-link" href="{% url 'catalog' %}">
                  <i class="fas fa-list"></i> <span>Add Catalog</span>
              </a>
          </div>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if request.path == '/order_page/' %}active{% endif %}" href="{% url 'order_page' %}">
          <i class="fas fa-shopping-cart"></i><span>Orders</span>
        </a>
    </li>
      <li class="nav-item">
        <a class="nav-link {% if request.path == '/stock/' %}active{% endif %}" href="{% url 'stock' %}">
            <i class="fas fa-box"></i> <span>Stock</span>
        </a>
    </li>

      <li class="nav-item">
          <a class="nav-link" data-bs-toggle="collapse" href="#reports-menu">
              <i class="fas fa-file-alt"></i> <span>Reports</span> <i class="fas fa-chevron-down ms-auto"></i>
          </a>
          <div id="reports-menu" class="collapse">
              <a class="nav-link" href="{% url 'report' %}">
                  <i class="fas fa-exchange-alt"></i> <span>Stock Transactions</span>
              </a>
              <a class="nav-link" href="{% url 'reorder_alerts' %}">
                  <i class="fas fa-exclamation-triangle"></i> <span>Reorder Alerts</span>
              </a>
              <a class="nav-link" href="{% url 'stock_adjustments' %}">
                  <i class="fas fa-wrench"></i> <span>Adjustments</span>
              </a>
          </div>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if request.path == '/customers/' %}active{% endif %}" href="{% url 'customer_list' %}">
            <i class="fas fa-users"></i> <span>Customers</span>
        </a>
    </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'logout' %}">
            <i class="fas fa-sign-out-alt"></i> <span>Logout</span>
        </a>
    </li>
  </ul>
</div>
    <div class="col-lg-10 col-md-9 ms-auto px-4" style="margin-top: 80px;">
      <div class="content" id="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-12">
            {% block content %}{% endblock %}
          </div>
        </div>
      </div>
    </div>
    </div>
  </div>
</div>
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/moment/min/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

<!-- Date Range Picker -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">


  <!-- JavaScript Files -->
  <script src="{% static 'js/scripts.js' %}"></script>
  <script src="{% static 'js/app.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/sales_chart.js' %}"></script>
</body>
</html>
